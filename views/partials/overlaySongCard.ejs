<span class="overlaySongCard">
    <span class="songImage">
        <img src="<%= songMap.get(song).songAlbumCover %>" alt="cover art">
    </span>
    <span class="songInformation">
        <span class="songName"><%= songMap.get(song).songName %></span>
        <span class="songArtist"><%= songMap.get(song).SongLeadArtist %></span>
        <span class="songDuration"><%= songMap.get(song).songDuration  %></span>
        <span class="songGenre"><%= songMap.get(song).songGenre  %></span>
    </span>
    <span class="controlButtons">
        <audio src="<%= songMap.get(song).songSource %>" id = "<%= song %>"></audio>
        <button onclick="playAudio(this)"><i class="fa-regular fa-circle-play"></i></button>
        <button onclick="stopAudio(this)" class="stopMusic"><i class="fa-regular fa-circle-stop"></i></button>
        <button><i class="fa-solid fa-download"></i></button>
        <button><i class="fa-solid fa-trash"></i></button>
    </span>
</span>

<script>
    function playAudio(button)
    {
        var allAudio = document.getElementsByTagName("audio");
        console.log("got audio??")
        for(var i = 0; i < allAudio.length; i++)
        {
            allAudio[i].pause();
            allAudio[i].currentTime = 0;
        }
        var soundParent = button.parentElement;
        var soundSiblings = soundParent.children;
        var soundTrack = soundSiblings[0];
        console.log(soundTrack);
        soundTrack.play();
        button.style.display = "none";
        soundSiblings[2].style.display = "flex";
    }
    function stopAudio(button) 
    {
        var soundParent = button.parentElement;
        var soundSiblings = soundParent.children;
        var soundTrack = soundSiblings[0];
        button.style.display = "none";
        soundSiblings[1].style.display = "flex";
        soundTrack.pause();
        soundTrack.currentTime = 0;
    }
</script>